/* https://github.com/Heptazhou/Base64.js v0.3.1 */
"use strict";const root="object"==typeof window?window:{},BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),BASE64_DECODE_CHAR={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},utf8ToBytes=r=>{for(var t=[],C=0;C<r.length;C++){var E=r.charCodeAt(C);E<128?t[t.length]=E:(E<2048?t[t.length]=192|E>>6:(E<55296||57344<=E?t[t.length]=224|E>>12:(E=65536+((1023&E)<<10|1023&r.charCodeAt(++C)),t[t.length]=240|E>>18,t[t.length]=128|E>>12&63),t[t.length]=128|E>>6&63),t[t.length]=128|63&E)}return t},decodeAsBytes=r=>{var t,C,E,e,o=[],A=0,a=r.length;"="===r.charAt(a-1)&&--a,"="===r.charAt(a-2)&&--a;for(var _=0,h=a>>2<<2;_<h;)t=BASE64_DECODE_CHAR[r.charAt(_++)],C=BASE64_DECODE_CHAR[r.charAt(_++)],E=BASE64_DECODE_CHAR[r.charAt(_++)],e=BASE64_DECODE_CHAR[r.charAt(_++)],o[A++]=255&(t<<2|C>>>4),o[A++]=255&(C<<4|E>>>2),o[A++]=255&(E<<6|e);a-=h;return 2==a?(t=BASE64_DECODE_CHAR[r.charAt(_++)],C=BASE64_DECODE_CHAR[r.charAt(_++)],o[A++]=255&(t<<2|C>>>4)):3==a&&(t=BASE64_DECODE_CHAR[r.charAt(_++)],C=BASE64_DECODE_CHAR[r.charAt(_++)],E=BASE64_DECODE_CHAR[r.charAt(_++)],o[A++]=255&(t<<2|C>>>4),o[A++]=255&(C<<4|E>>>2)),o},encodeFromBytes=r=>{for(var t,C,E,e="",o=r.length,A=0,a=3*parseInt(o/3);A<a;)t=r[A++],C=r[A++],E=r[A++],e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|C>>>4)]+BASE64_ENCODE_CHAR[63&(C<<2|E>>>6)]+BASE64_ENCODE_CHAR[63&E];o-=a;return 1==o?(t=r[A],e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="):2==o&&(t=r[A++],C=r[A],e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|C>>>4)]+BASE64_ENCODE_CHAR[C<<2&63]+"="),e};var utf8Base64Encode,btoa=root.btoa,atob=root.atob,utf8Base64Decode=btoa?(utf8Base64Encode=r=>{for(var t="",C=0;C<r.length;C++){var E=r.charCodeAt(C);E<128?t+=String.fromCharCode(E):E<2048?t+=String.fromCharCode(192|E>>6)+String.fromCharCode(128|63&E):E<55296||57344<=E?t+=String.fromCharCode(224|E>>12)+String.fromCharCode(128|E>>6&63)+String.fromCharCode(128|63&E):(E=65536+((1023&E)<<10|1023&r.charCodeAt(++C)),t+=String.fromCharCode(240|E>>18)+String.fromCharCode(128|E>>12&63)+String.fromCharCode(128|E>>6&63)+String.fromCharCode(128|63&E))}return btoa(t)},r=>{var t=atob(r.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(t))return t;for(var C,E,e="",o=0,A=t.length,a=0;o<A;)if((C=t.charCodeAt(o++))<=127)e+=String.fromCharCode(C);else{if(191<C&&C<=223)E=31&C,a=1;else if(C<=239)E=15&C,a=2;else{if(!(C<=247))throw"not UTF-8";E=7&C,a=3}for(var _=0;_<a;++_){if((C=t.charCodeAt(o++))<128||191<C)throw"not UTF-8";E=(E<<6)+(63&C)}if(55296<=E&&E<=57343||1114111<E)throw"not UTF-8";E<=65535?e+=String.fromCharCode(E):(E-=65536,e=(e+=String.fromCharCode(55296+(E>>10)))+String.fromCharCode(56320+(1023&E)))}return e}):(btoa=r=>{for(var t,C,E,e="",o=r.length,A=0,a=3*parseInt(o/3);A<a;)t=r.charCodeAt(A++),C=r.charCodeAt(A++),E=r.charCodeAt(A++),e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|C>>>4)]+BASE64_ENCODE_CHAR[63&(C<<2|E>>>6)]+BASE64_ENCODE_CHAR[63&E];o-=a;return 1==o?(t=r.charCodeAt(A),e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="):2==o&&(t=r.charCodeAt(A++),C=r.charCodeAt(A),e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|C>>>4)]+BASE64_ENCODE_CHAR[C<<2&63]+"="),e},utf8Base64Encode=r=>{for(var t,C,E,e="",o=utf8ToBytes(r),r=o.length,A=0,a=3*parseInt(r/3);A<a;)t=o[A++],C=o[A++],E=o[A++],e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|C>>>4)]+BASE64_ENCODE_CHAR[63&(C<<2|E>>>6)]+BASE64_ENCODE_CHAR[63&E];r-=a;return 1==r?(t=o[A],e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="):2==r&&(t=o[A++],C=o[A],e+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|C>>>4)]+BASE64_ENCODE_CHAR[C<<2&63]+"="),e},atob=r=>{var t,C,E,e,o="",A=r.length;"="===r.charAt(A-1)&&--A,"="===r.charAt(A-2)&&--A;for(var a=0,_=A>>2<<2;a<_;)t=BASE64_DECODE_CHAR[r.charAt(a++)],C=BASE64_DECODE_CHAR[r.charAt(a++)],E=BASE64_DECODE_CHAR[r.charAt(a++)],e=BASE64_DECODE_CHAR[r.charAt(a++)],o+=String.fromCharCode(255&(t<<2|C>>>4))+String.fromCharCode(255&(C<<4|E>>>2))+String.fromCharCode(255&(E<<6|e));A-=_;return 2==A?(t=BASE64_DECODE_CHAR[r.charAt(a++)],C=BASE64_DECODE_CHAR[r.charAt(a++)],o+=String.fromCharCode(255&(t<<2|C>>>4))):3==A&&(t=BASE64_DECODE_CHAR[r.charAt(a++)],C=BASE64_DECODE_CHAR[r.charAt(a++)],E=BASE64_DECODE_CHAR[r.charAt(a++)],o+=String.fromCharCode(255&(t<<2|C>>>4))+String.fromCharCode(255&(C<<4|E>>>2))),o},r=>{for(var t,C,E="",e=decodeAsBytes(r),o=e.length,A=0,a=0;A<o;)if((t=e[A++])<=127)E+=String.fromCharCode(t);else{if(191<t&&t<=223)C=31&t,a=1;else if(t<=239)C=15&t,a=2;else{if(!(t<=247))throw"not UTF-8";C=7&t,a=3}for(var _=0;_<a;++_){if((t=e[A++])<128||191<t)throw"not UTF-8";C=(C<<6)+(63&t)}if(55296<=C&&C<=57343||1114111<C)throw"not UTF-8";C<=65535?E+=String.fromCharCode(C):(C-=65536,E=(E+=String.fromCharCode(55296+(C>>10)))+String.fromCharCode(56320+(1023&C)))}return E});const encode=(r,t)=>{var C="string"!=typeof r;return C&&r.constructor===root.ArrayBuffer&&(r=new Uint8Array(r)),(C?encodeFromBytes:!t&&/[^\x00-\x7F]/.test(r)?utf8Base64Encode:btoa)(r)},decode=(r,t,C="string")=>("bytes"===C?decodeAsBytes:t?atob:utf8Base64Decode)(r),Base64={encode:encode,decode:decode,atob:atob,btoa:btoa};export default Base64;export{encode,decode};
